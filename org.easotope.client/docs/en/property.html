<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html><head>
<meta content="text/html; charset=ISO-8859-1" http-equiv="content-type"><title>Easotope Property Files</title></head><body>
<table>
  <tbody>
    <tr>
      <td style="vertical-align: middle;">
      <h1><img style="height: 150px;" alt="logo" src="../images/logo_with_text.png"></h1>
      </td>
    </tr>
  </tbody>
</table>

<p>This documentation is for Easotope release 20200723. It contains a description of
the file format necessary to import data as text files.</p>

<ul>
  <li><a href="#1.0">1.0 Introduction</a></li>
  <li><a href="#2.0">2.0 Channels</a></li>
  <li><a href="#3.0">3.0 Common Keys</a></li>
  <ul>
    <li><a href="#3.1">3.1 Java_Date</a></li>
    <li><a href="#3.2">3.2 ChannelToMZX10</a></li>
  </ul>
  <li><a href="#4.0">4.0 Data Keys</a></li>
  <ul>
    <li><a href="#4.1">4.1 Channel*_Background</a></li>
    <li><a href="#4.2">4.2 Channel*_Ref &amp; Channel*_Sample</a></li>
  </ul>
  <li><a href="#5.0">5.0 Scan Keys</a></li>
  <ul>
    <li><a href="#5.1">5.1 ScanFromVoltage &amp; ScanToVoltage</a></li>
    <li><a href="#5.2">5.2 Channel*_Scan</a></li>
  </ul>
  <li><a href="#6.0">6.0 Example</a></li>
</ul>

<h2><a name="1.0">1.0 Introduction</a></h2>

<p>Easotope supports importing data directly from Thermo mass spectrometers by dragging
and dropping the raw files (.did and .scn) that are generated by the mass spec. However,
there are times when you might want to import data that is not in this format. For
example, you may want to import data from another type of mass spectrometer or you may
want to import historic data that you only have in spreadsheet files.</p>

<p>For situations like these, Easotope supports importing <i>property files</i>. Property
files are a standard way of importing data into software that is written in the Java
programming language. They are simple text files that can be created with any text editor
or scripting language. File names for
property files always end with the .properties extension. Property files consist
of multiple lines where each line has a key, followed by an equals sign, followed by a
value. A line containing a # indicates a comment and everything after the # will be ignored.
For example:</p>

<code>
#this is an example<br>
key=5
</code>

<h2><a name="2.0">2.0 Channels</a></h2>

<p>To understand Easotope property files, you need to understand the concept of
"channels". You can think of a channel as a cup on the mass spectrometer -- a device
for measuring a single m/z value. So if your mass spectrometer is measuring three m/z
values, you have three channels of data.</p>

<p>Channels are numbered starting with 0. And each channel might have multiple
types of measurements. For example, a channel might have a background measurement,
a sequence of reference gas measurements, and a sequence of sample gas measurements.</p>

<p>In the property file, data is described in terms of channels and then a channel
map is defined to indicate which channel belongs to which m/z value. So you never
say that m/z 44 has the value 254.34. Instead, you say that channel 0 has value
254.34 and then you say that channel 0 is m/z 44.</p>

<h2><a name="3.0">3.0 Common Keys</a></h2>

<p>The are two keys that are common to nearly all property files.</p>

<h3><a name="3.1">3.1 Java_Date</a></h3>

<p>Each property file must contain a timestamp representing the time of the data
acquisition. A <i>Java_Date</i> can be expressed in two different ways: as the
number of milliseconds since January 1, 1970 or as a date in the format "yyyy-MM-dd
HH:mm:ss.SSS zzz". For example:</p>

<code>
Java_Date=1452361702000<br/>
Java_Date=2016-01-09 17:48:22.000 GMT
</code>

<p>These two dates both represent January 9, 2016 at 5:48 pm with 22 seconds and 0
milliseconds in the GMT time zone.</p>

<p>Programmers will note that the numeric representation is the same as UNIX time except
that UNIX time is the number of seconds rather than milliseconds. So <i>Java_Date</i>
is UNIX time times 1000. You can use one of the many timestamp converters on the Internet
(<a href="http://www.timestampconvert.com/">example</a>)
to see this for yourself. Note that most of these converters work with UNIX time so
you may need to cut the last three digits off of a <i>Java_Date</i> to use them.</p>

<h3><a name="3.2">3.2 ChannelToMZX10</a></h3>

<p>This is the key that defines the mapping from channels to m/z (see Section 2.0).
This key is followed by an array-like syntax to indicate the channel and the value
is the m/z value of this channel times 10. For example, the following code maps
channels 0, 1, and 2 to m/z values 44, 45, and 46 respectively.</p>

<code>
ChannelToMZX10[0]=440<br/>
ChannelToMZX10[1]=450<br/>
ChannelToMZX10[2]=460
</code>

<p>The reason that the m/z values are multiplied by 10 is to allow for half-m/z
channels. These are cups that exist between whole m/z values in order to help monitor
and correct background values. It's important to note that the only "m/z times 10" values allowed are those that
are already known to Easotope. This range is currently 43.5 to 49.5 in half-m/z steps.
So 43.5, 44, 44.5, etc. Files that use numbers outside of this range cannot be imported.<p>

<p>Technically, the ChannelToMZX10 is not required in a property file. It is possible
to define the channel-to-m/z mapping in the correction interval and, in this case,
the ChannelToMZX10 in the file is ignored. However, even if a channel-to-m/z mapping
is defined in the correction interval, it is still recommended that you have this key
in every property file.</p>

<h2><a name="4.0">4.0 Data Keys</a></h2>

<p>Data keys are keys that are used to supply actual mass spectrometer measurements.
In the Thermo world of mass spectrometers, these keys correspond to the data that
you would find in a .did file.</p>

<h3><a name="4.1">4.1 Channel*_Background</a></h3>

<p>This key defines a background adjustment that the mass spectrometer has already
applied to the given voltage values. In cases where Easotope calculates its
own background corrections, the mass spectrometer's background correction must be
"undone". This value is used for that. For example:</p>

<code>
Channel5_Background=7
</code>

<p>The channel number (5 in this case) is embedded in the key name itself. A
background value is valid for a single channel over an entire acquisition so
the array syntax (ex [0]) is not used. The background key is optional. If it is
omitted, a background of zero will be assumed.</p>

<h3><a name="4.2">4.2 Channel*_Ref &amp; Channel*_Sample</a></h3>

<p>The two keys Channel*_Ref and Channel*_Sample are used to represent reference
gas measurements and sample gas measurements, respectively. Because there are
many measurement cycles, these keys use the array notation to indicate a cycle
number while putting the channel number in the key itself. For example:</p>

<code>
Channel5_Ref[3]=8</br>
Channel3_Sample[1]=9
</code>

<p>The above code indicates that channel 5 measured a value of 8 during cycle 3
of the reference gas measurements and channel 3 measured a value of 9 during cycle
1 of the sample gas measurements.</p>

<p>It is important to note that mass spectrometers often measure the reference gas
before measuring the sample gas. In this case, the reference gas cycle numbers
often start at zero whereas the sample gas cycle numbers will start at 1. This is
illustrated in the example at the end of this document.</p>

<h2><a name="5.0">5.0 Scan Keys</a></h2>

<p>Scan keys are used to supply scan information for the mass spectrometer. In the
Thermo world of mass spectrometers, these keys correspond to the data that you
would find in an .scn file.</p>

<h3><a name="5.1">5.1 ScanFromVoltage &amp; ScanToVoltage</a></h3>

<p>Scans start at an acceleration voltage and sweep across a range to an ending
acceleration voltage. The keys ScanFromVoltage and ScanToVoltage allow you to
specify these two numbers in kV. For example:</p>

<code>
ScanFromVoltage=9.4</br>
ScanToVoltage=9.6
</code>

<p>This represents a scan from 9.4 kV to 9.6 kV. Note that these values are not
channel specific and are valid for the entire file.</p>

<h3><a name="5.2">5.2 Channel*_Scan</a></h3>

<p>The Channel*_Scan key allows you to specify the values that were obtained
during the scan. The channel number is embedded in the key name itself. And the
array syntax is used to specify a list of values. For example:</p>

<code>
Channel2_Scan[0]=8</br>
Channel2_Scan[1]=8.3</br>
Channel2_Scan[2]=7
</code>

<p>Easotope will assumed that these values are evenly spaced starting at the
specified ScanFromVoltage and ending at the ScanToVoltage.</p>

<h2><a name="6.0">6.0 Example</a></h2>

<code>
# this java date is the same as 1452361702000<br/>
<br/>
Java_Date=2016-01-09 17:48:22.000 GMT<br/>
<br/>
# channel 0 (the 44 channel)<br/>
<br/>
Channel0_Background=0<br/>
<br/>
Channel0_Ref[0]=10<br/>
Channel0_Ref[1]=11<br/>
Channel0_Ref[2]=12<br/>
<br/>
Channel0_Sample[1]=21<br/>
Channel0_Sample[2]=22<br/>
<br/>
# channel 1 (the 45 channel)<br/>
<br/>
Channel1_Background=3<br/>
<br/>
Channel1_Ref[0]=40<br/>
Channel1_Ref[1]=41<br/>
Channel1_Ref[2]=42<br/>
<br/>
Channel1_Sample[1]=51<br/>
Channel1_Sample[2]=52<br/>
<br/>
# channel 2 (the 46 channel)<br/>
<br/>
Channel2_Background=4<br/>
<br/>
Channel2_Ref[0]=50<br/>
Channel2_Ref[1]=51<br/>
Channel2_Ref[2]=52<br/>
<br/>
Channel2_Sample[1]=61<br/>
Channel2_Sample[2]=62<br/>
<br/>
# channel to m/z map is 44, 45, 46<br/>
<br/>
ChannelToMZX10[0]=440<br/>
ChannelToMZX10[1]=450<br/>
ChannelToMZX10[2]=460<br/>
</code>

</body></html>
